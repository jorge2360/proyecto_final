<!DOCTYPE html>
<html lang="es">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Off The Rack</title>

    <!-- CSS -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/font-awesome.css' %}">
    <link rel="stylesheet" href="{% static 'css/templatemo-hexashop.css' %}">
    <link rel="stylesheet" href="{% static 'css/owl-carousel.css' %}">
    <link rel="stylesheet" href="{% static 'css/lightbox.css' %}">
    <link rel="stylesheet" href="{% static 'css/custom.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <link rel="icon" type="image/png" href="{% static 'images/favicon.jpg' %}">
    <meta name="description" content="OffTheRack - Tienda de moda en línea para mujeres, hombres y niños.">
    <meta name="keywords" content="moda, ropa, tienda, online, accesorios, Guatemala">
</head>

<body>

    <!-- ***** Preloader ***** -->
    <div id="preloader">
        <div class="jumper"><div></div><div></div><div></div></div>
    </div>

    <!-- ============================
         HEADER PRINCIPAL
    ============================ -->
    <header class="header-area">
      <div class="container d-flex align-items-center justify-content-between">
        <!-- LOGO -->
        <a href="{% url 'home' %}" class="logo d-flex align-items-center">
          <img src="{% static 'images/offtherack_logo.jpg' %}" alt="OffTheRack Logo" class="logo-img">
        </a>

        <!-- MENÚ PRINCIPAL -->
        <nav class="main-nav">
          <ul class="nav align-items-center">
            <li><a href="{% url 'home' %}">Inicio</a></li>
            <li><a href="{% url 'productos:lista' %}">Productos</a></li>

            <!-- CATEGORÍAS -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button">Categorías</a>
              <ul class="dropdown-menu">
                <li><a href="{% url 'productos:categoria' 'Mujeres' %}">Mujeres</a></li>
                <li><a href="{% url 'productos:categoria' 'Hombres' %}">Hombres</a></li>
                <li><a href="{% url 'productos:categoria' 'Niños' %}">Niños</a></li>
                <li><a href="{% url 'productos:categoria' 'Accesorios' %}">Accesorios</a></li>
              </ul>
            </li>

            {% if user.is_authenticated %}
            <!-- USUARIO LOGUEADO -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button">
                <i class="bi bi-person-circle me-1"></i>{{ user.username|title }}
              </a>
              <ul class="dropdown-menu dropdown-menu-end">
                <li><a href="{% url 'usuarios:perfil' %}"><i class="bi bi-person-lines-fill me-1"></i>Mi perfil</a></li>
                <li><a href="{% url 'pedidos:lista' %}"><i class="bi bi-bag-check me-1"></i>Mis pedidos</a></li>
                <li class="dropdown-divider"></li>
                <li><a href="{% url 'usuarios:logout' %}" class="text-danger"><i class="bi bi-box-arrow-right me-1"></i>Cerrar sesión</a></li>
              </ul>
            </li>
            {% else %}
            <!-- USUARIO SIN INICIAR SESIÓN -->
            <li><a href="{% url 'usuarios:login' %}"><i class="bi bi-box-arrow-in-right me-1"></i>Iniciar sesión</a></li>
            <li><a href="{% url 'usuarios:registro_cliente' %}"><i class="bi bi-person-plus me-1"></i>Registrarse</a></li>
            {% endif %}

            <!-- CARRITO -->
            <li><a href="{% url 'carrito:detalle' %}"><i class="fa fa-shopping-cart me-1"></i>Carrito</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- ============================
         CONTENIDO PRINCIPAL
    ============================ -->
    <main>
        {% block content %}{% endblock %}
    </main>

    <!-- ***** BOTÓN FLOTANTE CARRITO (MÓVIL) ***** -->
    <a href="{% url 'carrito:detalle' %}" class="floating-cart d-md-none">
        <i class="bi bi-cart4"></i>
    </a>

    <!-- ============================
         FOOTER
    ============================ -->
    {% include 'partials/footer.html' %}

    <!-- ============================
         SCRIPTS
    ============================ -->
    <script src="{% static 'js/jquery-2.1.0.min.js' %}"></script>
    <script src="{% static 'js/popper.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/owl-carousel.js' %}"></script>
    <script src="{% static 'js/accordions.js' %}"></script>
    <script src="{% static 'js/datepicker.js' %}"></script>
    <script src="{% static 'js/scrollreveal.min.js' %}"></script>
    <script src="{% static 'js/waypoints.min.js' %}"></script>
    <script src="{% static 'js/jquery.counterup.min.js' %}"></script>
    <script src="{% static 'js/imgfix.min.js' %}"></script>
    <script src="{% static 'js/slick.js' %}"></script>
    <script src="{% static 'js/lightbox.js' %}"></script>
    <script src="{% static 'js/isotope.js' %}"></script>
    <script src="{% static 'js/custom.js' %}"></script>

</body>
</html>
